((e,t)=>{let n=document.forms.comment;if(!n)return;let a,r,i=n.parentNode,l=i.parentNode,o=e.location.search,c=l.getElementsByClassName("js:reply"),s=n.getElementsByClassName("js:cancel")[0],d=n["comment[content]"],p=d.placeholder,u=/(\?|&(?:amp;)?)parent(?:=([1-9]\d{3,}-(?:0\d|1[0-2])-(?:0\d|[1-2]\d|3[0-1])(?:-(?:[0-1]\d|2[0-4])(?:-(?:[0-5]\d|60)){2}))?|&)/g,m=n["comment[parent]"];function f(e){e.addEventListener("click",function(e){let t=this.parentNode.parentNode.parentNode,a=n.getAttribute("action"),r=this.getAttribute("data-parent");t.parentNode.insertBefore(n,t),a=a.replace(u,""),a+=(a.indexOf("?")>-1?"&":"?")+"parent="+r,n.setAttribute("action",a),n.classList.add("is:reply"),d.placeholder=this.title,d.focus(),m.value=r,e.preventDefault()},!1)}if(o=!o||!o.match(u)){for(a=0,r=c.length;a<r;++a)f(c[a]);s&&s.addEventListener("click",function(e){i.appendChild(n),n.setAttribute("action",n.getAttribute("action").replace(u,"")),n.classList.remove("is:reply"),d.placeholder=p,d.focus(),m.removeAttribute("value"),e.preventDefault()},!1)}})(window);
